(this["webpackJsonpfinanza-react"]=this["webpackJsonpfinanza-react"]||[]).push([[0],{18:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(16),r=a.n(s),l=a(3),c=a(2),d=a(4),o=a(5),u=a(1),h=a(7),g=a(6),m=a(11),p=a.n(m);a(24);p.a.initializeApp({apiKey:"AIzaSyCE5pA2JSdfAPD5qnWsEEvOXEx-pI4aeLk",authDomain:"finanza-react.firebaseapp.com",databaseURL:"https://finanza-react.firebaseio.com",projectId:"finanza-react",storageBucket:"finanza-react.appspot.com",messagingSenderId:"88000701371",appId:"1:88000701371:web:9b451832ac2b498fea1a9e"});var b=p.a,E=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={category:"",date:"",amount:"",notes:""},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.focus=n.focus.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"focus",value:function(){this.amountInput.focus()}},{key:"componentDidUpdate",value:function(e){e.isEditing&&!this.props.isEditing&&this.setState({category:"",date:"",amount:"",notes:""}),e!==this.props&&this.setState(this.props.editEntry)}},{key:"handleChange",value:function(e){var t=e.target,a="radio"===t.type?t.id:Number(t.value)||t.value,n=t.name;this.setState(Object(l.a)({},n,a))}},{key:"handleSubmit",value:function(e){if(13===e.keyCode){var t=Object(c.a)({},this.state);return t.amount&&0!==Number(t.amount)?(t.date?t.date=String(new Date(t.date)):t.date=String(new Date),t.category||(t.category="\u2753"),this.props.isEditing?(b.database().ref("expenses/"+this.props.editId).set(t),this.props.toggleEditing(!1)):b.database().ref("expenses").push(t),this.setState({category:"",date:"",amount:"",notes:""})):this.setState({category:"",date:"",amount:"",notes:""})}}},{key:"render",value:function(){var e=this;return i.a.createElement("form",{className:this.state.amount<0?"red":this.state.amount>0?"green":"",id:"entry-form",onKeyDown:this.handleSubmit},i.a.createElement("div",{className:"display"},i.a.createElement("div",null,i.a.createElement("input",{value:this.state.notes,onChange:this.handleChange,type:"text",placeholder:"Notes",name:"notes",className:"notes"}),i.a.createElement("input",{value:this.state.date,onChange:this.handleChange,type:"text",placeholder:"Date",name:"date",className:"date"})),i.a.createElement("input",{ref:function(t){e.amountInput=t},value:this.state.amount,onChange:this.handleChange,id:"display-amount",type:"number",placeholder:"$",autoFocus:!0,name:"amount",className:"amount"})),i.a.createElement("div",{className:"categories-selector"},k.map((function(t){var a=Object.keys(t)[0],n=t[a];return i.a.createElement("label",{onClick:e.focus,htmlFor:a,key:a,className:e.state.category===n?"highlighted":void 0},i.a.createElement("span",{role:"img","aria-label":"Emoji of "+a},n),i.a.createElement("input",{checked:e.state.category===a,onChange:e.handleChange,type:"radio",id:n,name:"category"}))}))))}}]),a}(i.a.Component),f=a(17);var v=a(8),y=a.n(v);function j(e){var t=Object.keys(e.database).filter((function(t){return e.database[t].amount>0})).map((function(t){return e.database[t].amount})).reduce((function(e,t){return e+t}),0),a=Object.keys(e.database).filter((function(t){return e.database[t].amount<0})).map((function(t){return e.database[t].amount})).reduce((function(e,t){return e+t}),0),n=-a-t;return i.a.createElement("ul",{className:"summary"},i.a.createElement("li",null,i.a.createElement("h3",null,"Expenses"),i.a.createElement("p",null,y.a.format(t))),i.a.createElement("li",null,i.a.createElement("h3",null,"Income"),i.a.createElement("p",null,y.a.format(a))),i.a.createElement("li",null,i.a.createElement("h3",null,"Balance"),i.a.createElement("p",null,y.a.format(n))))}var O=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={inverted:!1},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.sortDb=n.sortDb.bind(Object(u.a)(n)),n.setSort=n.setSort.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"handleClick",value:function(e){e.target.id&&this.props.deleteExpense(e.target.id);var t=e.target.parentElement.id;if(t===this.props.editingId)return this.props.toggleEditing(!1),void this.setState({isEditing:!1,editingId:null});this.props.toggleEditing(!0,t),this.setState({isEditing:!0,editingId:t})}},{key:"sortDb",value:function(e){var t=this.state.filter,a=Object.keys(e).sort((function(a,n){if("date"===t){if(new Date(e[a][t])<new Date(e[n][t]))return-1;if(new Date(e[a][t])>new Date(e[n][t]))return 1}return e[a][t]<e[n][t]?-1:e[a][t]>e[n][t]?1:0}));this.state.inverted&&(a=a.reverse());var n,i={},s=Object(f.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value;i[r]=e[r]}}catch(l){s.e(l)}finally{s.f()}return i}},{key:"setSort",value:function(e){if(e.target.innerHTML.toLowerCase()===this.state.filter)return this.setState((function(e){return{inverted:!e.inverted}}));this.setState({filter:e.target.innerHTML.toLowerCase()})}},{key:"render",value:function(){var e=this,t=this.state.filter?this.sortDb(this.props.database):this.props.database;return i.a.createElement("div",{className:"element"},i.a.createElement("h2",null,this.props.title),i.a.createElement(j,{database:t}),i.a.createElement("div",{onClick:this.setSort,className:"description"},i.a.createElement("p",null,"Category"),i.a.createElement("p",null,"Date"),i.a.createElement("p",null,"Amount"),i.a.createElement("p",null,"Notes")),i.a.createElement("div",{className:"list"},Object.keys(t).map((function(a){return i.a.createElement("div",{className:e.props.isEditing&&e.props.editingId===a?"blue":"",key:a},i.a.createElement("div",{className:"entry",id:a,onClick:e.handleClick},i.a.createElement("span",{className:"icon"},t[a].category),i.a.createElement("p",null,function(e){var t=new Date(e);return"".concat(t.getMonth()+1,"/").concat(t.getDate())}(t[a].date)),i.a.createElement("p",null,y.a.format(t[a].amount)),i.a.createElement("p",null,t[a].notes),i.a.createElement("span",{role:"img","aria-label":"emoji",id:a,onClick:e.handleClick,className:"icon delete"},"\u274c")))}))))}}]),a}(i.a.Component),k=(a(27),[{pizza:"\ud83c\udf55"},{gas:"\u26fd\ufe0f"},{utility:"\u2699\ufe0f"},{groceries:"\ud83e\udd51"}]),C=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={database:{},isEditing:!1,editingId:null},n.toggleEditing=n.toggleEditing.bind(Object(u.a)(n)),n.deleteExpense=n.deleteExpense.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.db=b.database().ref("expenses"),this.db.on("value",(function(t){e.setState({database:t.val()})}))}},{key:"toggleEditing",value:function(e,t){return!0===e&&t?this.setState({isEditing:e,editingId:t}):this.setState({isEditing:!1,editingId:null})}},{key:"deleteExpense",value:function(e){this.db.child(e).remove()}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.database).filter((function(t){return new Date(e.state.database[t].date).getMonth()===(new Date).getMonth()})).reduce((function(t,a){return Object(c.a)(Object(c.a)({},t),{},Object(l.a)({},a,e.state.database[a]))}),{}),a=Object.keys(this.state.database).filter((function(t){return new Date(e.state.database[t].date).getMonth()===(new Date).getMonth()-1})).reduce((function(t,a){return Object(c.a)(Object(c.a)({},t),{},Object(l.a)({},a,e.state.database[a]))}),{}),n=Object.keys(this.state.database).reduce((function(t,a){return Object(c.a)(Object(c.a)({},t),{},Object(l.a)({},a,e.state.database[a]))}),{}),s=this.state.editingId?this.state.database[this.state.editingId]:null;return i.a.createElement("div",null,i.a.createElement("div",{className:"App"},i.a.createElement(E,{database:this.state.database,toggleEditing:this.toggleEditing,isEditing:this.state.isEditing,editEntry:s,editingId:this.state.editingId}),i.a.createElement(O,{title:"This Month",database:t,toggleEditing:this.toggleEditing,deleteExpense:this.deleteExpense,isEditing:this.state.isEditing,editingId:this.state.editingId}),i.a.createElement(O,{title:"Last Month",database:a,toggleEditing:this.toggleEditing,deleteExpense:this.deleteExpense,isEditing:this.state.isEditing,editingId:this.state.editingId}),i.a.createElement(O,{title:"To Date",database:n,toggleEditing:this.toggleEditing,deleteExpense:this.deleteExpense,isEditing:this.state.isEditing,editingId:this.state.editingId})),i.a.createElement("p",{className:"copyright"},"Copyright \xa9 ",(new Date).getFullYear()," George Cesar. All rights reserved."))}}]),a}(i.a.Component);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.92b4f798.chunk.js.map